"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[691],{8691:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var r=o(5155),a=o(2115),i=o(4211),n=o(7916),s=o(7581),d=o(3306);function l(e){let{data:t,selected:o}=e;return(0,r.jsx)("div",{className:"w-44 rounded-xl px-3 py-2 text-center backdrop-blur-md border ".concat(o?"border-blue-400 shadow-lg":"border-white/20"," bg-white/10 hover:shadow-md transition-all duration-200"),children:(0,r.jsx)("div",{className:"text-xs font-medium text-white whitespace-pre-wrap leading-tight",children:t.label})})}function c(e){let{graph:t,highlightedNodeId:o,onNodeSelect:c}=e,{nodes:h,tokenTransfers:u}=t||{},{rfNodes:f,rfEdges:b}=(0,a.useMemo)(()=>(function(e,t){let o=[],r=[];if(!e)return{rfNodes:o,rfEdges:r};let a=new Map;for(let t in e){let o=e[t],r=a.get(o.depth||0)||[];r.push(o),a.set(o.depth||0,r)}if(Array.from(a.keys()).sort((e,t)=>e-t).forEach((e,t)=>{(a.get(e)||[]).forEach((e,a)=>{var i;if(o.push({id:String(e.id),type:"glass",data:{label:((i=e.functionName||e.type)?i.length<=24?i:i.slice(0,10)+"…"+i.slice(-10):"")+"\n"+p(e.to||e.from)},position:{x:260*t,y:120*a},style:{width:180,height:54,padding:8,fontSize:12,whiteSpace:"pre"}}),Array.isArray(e.children))for(let t of e.children)r.push({id:"".concat(e.id,"-").concat(t),source:String(e.id),target:String(t),animated:!1})})}),Array.isArray(t))for(let e of t){if(!e.atNodeId)continue;let t=String(e.atNodeId),a=String(e.atNodeId)+"-sink";if(!o.find(e=>e.id===a)){let r=o.find(e=>e.id===t)||{position:{x:0,y:0}};o.push({id:a,type:"glass",data:{label:"".concat(p(e.to),"\n").concat(e.amount," ").concat(e.symbol)},position:{x:r.position.x+200,y:r.position.y+60},style:{width:180,height:54,padding:8,fontSize:12,whiteSpace:"pre",background:"rgba(59,130,246,0.08)",border:"1px dashed #60a5fa",color:"#bfdbfe"}})}r.push({id:"transfer-".concat(t,"-").concat(a),source:t,target:a,label:"".concat(e.amount," ").concat(e.symbol),style:{strokeDasharray:"6 4",stroke:"#60a5fa"},labelStyle:{fill:"#93c5fd",fontSize:10}})}return{rfNodes:o,rfEdges:r}})(h,u),[h,u]),g=(0,a.useMemo)(()=>({glass:l}),[]),y=(0,a.useCallback)((e,t)=>{c&&c(t.id)},[c]),m=(0,a.useMemo)(()=>f.map(e=>({...e,style:{...e.style,background:e.id===o?"#1e3a8a":"rgba(255,255,255,0.08)",border:"1px solid rgba(147,197,253,0.6)",color:"#e5e7eb",borderRadius:8,backdropFilter:"blur(2px)"}})),[f,o]);return h?(0,r.jsx)("div",{className:"w-full h-full",style:{background:"transparent"},children:(0,r.jsxs)(i.Gc,{nodes:m,edges:b,nodeTypes:g,defaultEdgeOptions:{type:"smoothstep",animated:!1,style:{stroke:"#60a5fa",strokeWidth:2}},fitView:!0,onNodeClick:y,proOptions:{hideAttribution:!0},children:[(0,r.jsx)(n.V,{color:"#334155",gap:16}),(0,r.jsx)(s.o,{pannable:!0,zoomable:!0,nodeColor:()=>"#1d4ed8",style:{height:120,width:200,bottom:12,right:12,background:"rgba(0,0,0,0.4)",borderRadius:8,border:"1px solid rgba(255,255,255,0.1)"}}),(0,r.jsx)(d.H,{})]})}):null}function p(e){return e&&"string"==typeof e?e.length<=10?e:e.slice(0,6)+"…"+e.slice(-4):""}o(1687)}}]);